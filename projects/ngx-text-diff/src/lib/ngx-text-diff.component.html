<td-loader-spinner [active]="loading"></td-loader-spinner>
<div class="td-wrapper" [ngClass]="outerContainerClass" [ngStyle]="outerContainerStyle" *ngIf="!loading">
  <div [ngClass]="toolbarClass" [ngStyle]="toolbarStyle" *ngIf="showToolbar">
    <div class="td-toolbar-show-diff">
      <label class="td-checkbox-container">
        Only Show Lines with Differences ({{ diffsCount }})
        <input type="checkbox" id="showDiffs" [ngModel]="hideMatchingLines" (ngModelChange)="hideMatchingLinesChanged($event)" />
        <span class="checkmark"></span>
      </label>
    </div>
  </div>

  <div class="td-toolbar-select-format" *ngIf="showToolbar && showBtnToolbar">
    <div class="td-btn-group td-btn-group-toggle" data-toggle="buttons">
      <button
        *ngFor="let option of formatOptions"
        [ngClass]="{ active: format === option.value, disabled: !!option.disabled }"
        [name]="option.name"
        [id]="option.id"
        [disabled]="!!option.disabled"
        (click)="setDiffTableFormat(option.value)"
      >
        {{ option.label }}
      </button>
    </div>
  </div>

  <div class="td-table-wrapper" [ngClass]="compareRowsClass" [ngStyle]="compareRowsStyle">
    <ng-container [ngSwitch]="format">
      <ng-container *ngSwitchCase="'SideBySide'">
        <td-side-by-side-table id="td-left-compare-container" [data]="leftContent$"></td-side-by-side-table>
        <td-side-by-side-table id="td-right-compare-container" [data]="rightContent$"></td-side-by-side-table>
      </ng-container>
      <ng-container *ngSwitchCase="'LineByLine'">
        <td-line-by-line-table id="td-line-by-line-container" [data]="lineByLine$"></td-line-by-line-table>
      </ng-container>
    </ng-container>
  </div>
</div>
